<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>科技 on Pomfret's Blog</title><link>https://pomfret27.github.io/blog/categories/technology/</link><description>Recent content in 科技 on Pomfret's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Pomfret</copyright><lastBuildDate>Tue, 12 Aug 2025 19:13:34 +0800</lastBuildDate><atom:link href="https://pomfret27.github.io/blog/categories/technology/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Hugo + Github 搭建个人博客</title><link>https://pomfret27.github.io/blog/p/build-blog-with-hugo-and-github/</link><pubDate>Tue, 12 Aug 2025 19:13:34 +0800</pubDate><guid>https://pomfret27.github.io/blog/p/build-blog-with-hugo-and-github/</guid><description>&lt;h2 id="搭建思路"&gt;搭建思路
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Hugo 可以将 Markdown 文件转换为 HTML 文件；&lt;/li&gt;
&lt;li&gt;GitHub Pages 是 GitHub 提供的一个免费的静态网站托管服务，可用于托管个人网站、博客、文档、项目页面等静态内容；&lt;/li&gt;
&lt;li&gt;创建 2 个 GitHub 仓库，一个是用于存放博客源文件的博客源仓库，另一个则是用于存放 Hugo 生成的 HTML 文件的 GitHub Pages 仓库；&lt;/li&gt;
&lt;li&gt;使用 Github Actions 功能实现提交源码后自动发布。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="准备工作"&gt;准备工作
&lt;/h2&gt;&lt;p&gt;要想使用 Hugo + Github 搭建个人博客，首先要做好以下准备。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;确保网络环境能够稳定地访问 &lt;strong&gt;Github&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;创建 &lt;strong&gt;GitHub&lt;/strong&gt; 账号；&lt;/li&gt;
&lt;li&gt;安装 &lt;strong&gt;VS Code&lt;/strong&gt; 与 &lt;strong&gt;Git&lt;/strong&gt;；&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上内容只要稍加搜索，就能找到大量的教程，在此就不赘述了，接下来讲最后一项准备工作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;“我有东西可以写，我想写，我想一直写。”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果你能做到前两点的话，请继续下一步；如果你能做到全部三点的话，也许哪天我就能看见你的博客；如果你连第一点都还做不到的话，不妨先试着写点什么。&lt;/p&gt;
&lt;h2 id="安装-hugo"&gt;安装 Hugo
&lt;/h2&gt;&lt;p&gt;Hugo 的安装方法很多，详情可以参考官方的 &lt;a class="link" href="https://gohugo.com.cn/installation/windows/" target="_blank" rel="noopener"
&gt;在 Windows 上安装 Hugo&lt;/a&gt;，建议安装扩展版（extended）。&lt;/p&gt;
&lt;h2 id="创建-github-仓库"&gt;创建 GitHub 仓库
&lt;/h2&gt;&lt;h3 id="创建博客源仓库"&gt;创建博客源仓库
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;给仓库取一个你喜欢的名字（比如我用的是 &lt;strong&gt;BlogSource&lt;/strong&gt;）；&lt;/li&gt;
&lt;li&gt;选择 &lt;strong&gt;Private&lt;/strong&gt;，设置为私有仓库；&lt;/li&gt;
&lt;li&gt;勾选添加 &lt;strong&gt;README&lt;/strong&gt; 文件；&lt;/li&gt;
&lt;li&gt;创建仓库。&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="博客源仓库.png" alt="博客源仓库" title="博客源仓库" /&gt;&lt;/center&gt;
&lt;h3 id="创建-github-pages-仓库"&gt;创建 GitHub Pages 仓库
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;按照 &lt;code&gt;&amp;lt;username.github.io&amp;gt;&lt;/code&gt; 的格式命名仓库，&lt;code&gt;&amp;lt;username&amp;gt;&lt;/code&gt; 是自己的 GitHub 的用户名；&lt;/li&gt;
&lt;li&gt;选择 &lt;strong&gt;Public&lt;/strong&gt;，设置为公开仓库；&lt;/li&gt;
&lt;li&gt;勾选添加 &lt;strong&gt;README&lt;/strong&gt; 文件；&lt;/li&gt;
&lt;li&gt;创建仓库。&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="gitHub_pages_repo.png" alt="GitHub Pages 仓库" title="GitHub Pages 仓库" /&gt;&lt;/center&gt;
&lt;h2 id="克隆博客源仓库到本地"&gt;克隆博客源仓库到本地
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建项目文件夹（比如我用的是 &lt;strong&gt;Blog&lt;/strong&gt;）；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用 &lt;code&gt;cd&lt;/code&gt; 命令进入该文件夹（从此处开始建议使用 VS Code）；&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;cd&lt;/span&gt; Blog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;克隆&lt;strong&gt;博客源仓库&lt;/strong&gt;到项目文件夹，克隆时使用的 HTTPS 仓库链接在这里查看；&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git clone https://github.com/Pomfret27/BlogSource.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;此处直接将 GitHub 上的远程仓库克隆到了本地，所以没必要再对仓库进行初始化，也不需要设置远程地址。&lt;/p&gt;
&lt;h2 id="使用-hugo-创建网站"&gt;使用 Hugo 创建网站
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;使用 &lt;code&gt;hugo new site [path] [flags]&lt;/code&gt; 命令可以在提供的目录中创建新的站点；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这里我选择在 &lt;code&gt;Blog&lt;/code&gt; 文件夹下创建 &lt;code&gt;BlogSource&lt;/code&gt; 站点，由于克隆下来的 &lt;code&gt;BlogSource&lt;/code&gt; 文件夹非空，需要在命令后加上 &lt;code&gt;-f&lt;/code&gt;来强制初始化；&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new site BlogSource -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;新的站点会有正确的结构，但尚无内容或主题，为了方便后续的操作，可以先选择一个有演示站点的主题。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="配置主题"&gt;配置主题
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;先到 &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
&gt;官方的主题市场&lt;/a&gt; 选择一个喜欢的主题，下面我以自己使用的 &lt;strong&gt;Stack&lt;/strong&gt; 为例；&lt;/li&gt;
&lt;li&gt;一般主题的说明文档都会有安装相关的指导，各种主题存在差异，Stack 主题的安装可以参考 &lt;a class="link" href="https://stack-docs.netlify.app/zh/getting-started" target="_blank" rel="noopener"
&gt;这个&lt;/a&gt;；&lt;/li&gt;
&lt;li&gt;如果主题有演示站点 &lt;code&gt;exampleSite&lt;/code&gt; 文件夹，可以讲其中的 &lt;code&gt;content&lt;/code&gt; 文件夹和 &lt;code&gt;toml&lt;/code&gt; 或是 &lt;code&gt;yaml&lt;/code&gt; 文件复制到站点目录，并删除原先的 &lt;code&gt;hugo.toml&lt;/code&gt; 文件；&lt;/li&gt;
&lt;li&gt;将复制过来的配置文件中的 &lt;strong&gt;baseURL&lt;/strong&gt; 改为自己的网址 &lt;code&gt;https://&amp;lt;username&amp;gt;.github.io/&lt;/code&gt;，其他的修改可以等到网站搭建完成后再说。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="使用-hugo-新建文章"&gt;使用 Hugo 新建文章
&lt;/h2&gt;&lt;p&gt;先使用 &lt;code&gt;cd&lt;/code&gt; 命令进入站点目录，再使用 &lt;code&gt;hugo new xxx.md&lt;/code&gt; 命令创建文章。这里先新建一篇空白文章，保证下一步本地预览的时候有文章就行。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;cd&lt;/span&gt; BlogSource
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new post xxx.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="本地调试和预览"&gt;本地调试和预览
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;使用 &lt;code&gt;hugo server&lt;/code&gt; 命令构建网站，如果想要清理未使用的缓存文件，可以在命令后面加上 &lt;code&gt;--gc&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;执行命令后，使用 &lt;code&gt;Ctrl + 单击&lt;/code&gt; 打开终端中显示的链接 &lt;code&gt;http://localhost:1313/&lt;/code&gt;，端口后默认为1313，可能会发生变化；&lt;/li&gt;
&lt;li&gt;由于 Hugo 的构建速度很快，几乎可以即时地保存和查看更改。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="github-自动部署"&gt;GitHub 自动部署
&lt;/h2&gt;&lt;h3 id="生成-token"&gt;生成 token
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;打开 &lt;strong&gt;GitHub&lt;/strong&gt;，点击右上角的头像，再点击 &lt;strong&gt;Settings&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;下拉页面，点击左侧的 &lt;strong&gt;Developer Settings&lt;/strong&gt;；&lt;/li&gt;
&lt;li&gt;点击左侧的 &lt;strong&gt;Personal access tokens&lt;/strong&gt;，再点击 &lt;strong&gt;Tokens (classic)&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;点击右侧的 &lt;strong&gt;Generate new token&lt;/strong&gt;，然后选择下面那个 &lt;strong&gt;Generate new token (classic)&lt;/strong&gt;；&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="generate_new_token.png" alt="Generate new token" title="Generate new token" /&gt;&lt;/center&gt;
&lt;ol start="5"&gt;
&lt;li&gt;选择 token 到期时间，勾选 token 的访问范围，然后点击 &lt;strong&gt;Generate token&lt;/strong&gt; 生成 token；&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="generate_token.png" alt="生成 token" title="生成 token" /&gt;&lt;/center&gt;
&lt;ol start="6"&gt;
&lt;li&gt;生成的 token 只显示一次，所以一定要复制保存下来；&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="添加-secret"&gt;添加 secret
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;复制 token 后打开博客源仓库，点击 &lt;strong&gt;Settings&lt;/strong&gt;，点击左侧的 &lt;strong&gt;Secrets and variables&lt;/strong&gt;，点击 &lt;strong&gt;Actions&lt;/strong&gt;；&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="actions_secrets.png" alt="Actions secrets" title="Actions secrets" /&gt;&lt;/center&gt;
&lt;ol start="2"&gt;
&lt;li&gt;填写 Secret 名称，并将前面复制的 token 粘贴到 Secret 框中，添加 secret。&lt;/li&gt;
&lt;/ol&gt;
&lt;center&gt;&lt;img src="add_secret.png" alt="添加 secret" title="添加 secret" /&gt;&lt;/center&gt;
&lt;h3 id="配置-github-actions"&gt;配置 GitHub Actions
&lt;/h3&gt;&lt;p&gt;这里先附上官方的 &lt;a class="link" href="https://github.com/marketplace/actions/hugo-setup" target="_blank" rel="noopener"
&gt;GitHub Actions for Hugo&lt;/a&gt;，感兴趣的可以自己看一下。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建 workflow，在仓库根目录创建 &lt;code&gt;.github&lt;/code&gt; 文件夹，再在里面创建 &lt;code&gt;workflows&lt;/code&gt; 文件夹，之后创建一个 &lt;code&gt;gh-pages.yml&lt;/code&gt; 文件，这个文件的名字也可以自取；&lt;/li&gt;
&lt;li&gt;将下面的内容复制进 yml 文件；&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;GitHub Pages &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;#名字自取&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;push&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;branches&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="l"&gt;main &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 这里的意思是当 main分支发生push的时候，运行下面的jobs，这里先改为github-actions&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;pull_request&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;jobs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;deploy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 任务名自取&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;runs-on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;ubuntu-latest &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 在什么环境运行任务&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;concurrency&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;group&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;${{ github.workflow }}-${{ github.ref }}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;steps&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;actions/checkout@v4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 引用actions/checkout这个action，与所在的github仓库同名&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;with&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;submodules&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# Fetch Hugo themes (true OR recursive)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;fetch-depth&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# Fetch all history for .GitInfo and .Lastmod&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Setup Hugo &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 步骤名自取&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;peaceiris/actions-hugo@v3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# hugo官方提供的action，用于在任务环境中获取hugo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;with&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;hugo-version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;latest&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 获取最新版本的hugo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;extended&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 是否使用extended版本的hugo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Build&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;hugo --minify&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 使用hugo构建静态网页&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Deploy&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;peaceiris/actions-gh-pages@v3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 一个自动发布github pages的action&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;if&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;github.ref == &amp;#39;refs/heads/main&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;with&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# github_token: ${{ secrets.GITHUB_TOKEN }} 该项适用于发布到源码相同repo的情况，不能用于发布到其他repo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;external_repository&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;&amp;lt;username&amp;gt;/&amp;lt;username&amp;gt;.github.io # 发布到哪个repo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;personal_token&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;${{ secrets.YOUR_SECRET_NAME }} # 发布到其他repo需要提供上面生成的personal access token&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;publish_dir&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;./public # 注意这里指的是要发布哪个文件夹的内容，而不是指发布到目的仓库的什么位置，因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;publish_branch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;main # 发布到哪个branch&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;修改 &lt;code&gt;external_repository&lt;/code&gt; 为自己的 &lt;strong&gt;GitHub Pages 仓库&lt;/strong&gt;，把 &lt;code&gt;personal_token&lt;/code&gt; 的 &lt;code&gt;YOUR_SECRET_NAME&lt;/code&gt; 改成前面设置的 &lt;strong&gt;secret&lt;/strong&gt; 名称，如果使用了扩展版的 Hugo，还可以将 &lt;code&gt;extended&lt;/code&gt; 改成 &lt;strong&gt;true&lt;/strong&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="发布内容"&gt;发布内容
&lt;/h2&gt;&lt;p&gt;在本地写完文章，并用 &lt;code&gt;hugo server&lt;/code&gt; 命令在 &lt;code&gt;public&lt;/code&gt; 文件夹下生成静态网页后，只需要将本地仓库的内容推送到远程的&lt;strong&gt;博客源仓库&lt;/strong&gt;，过一段时间，&lt;strong&gt;GitHub Actions&lt;/strong&gt; 就会将博客源仓库的 &lt;code&gt;public&lt;/code&gt; 文件夹的内容推送到 &lt;strong&gt;GitHub Pages 仓库&lt;/strong&gt;，这样就可以通过 &lt;a class="link" href="https://pomfret27.github.io" target="_blank" rel="noopener"
&gt;https://pomfret27.github.io&lt;/a&gt; 来访问博客网站了。&lt;/p&gt;
&lt;p&gt;推送本地仓库可以使用下面的 git 命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cmd" data-lang="cmd"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;提交信息&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push origin main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;上面三条命令先后完成了&lt;strong&gt;暂存&lt;/strong&gt;、&lt;strong&gt;提交&lt;/strong&gt;、&lt;strong&gt;推送&lt;/strong&gt;三个操作，其中提交信息是必须填写的。&lt;/p&gt;
&lt;p&gt;如果不想每次都手打命令，还可以使用 &lt;strong&gt;VS Code&lt;/strong&gt; 的源代码管理功能。&lt;/p&gt;
&lt;center&gt;&lt;img src="源代码管理.png" alt="源代码管理" title="源代码管理" /&gt;&lt;/center&gt;
&lt;p&gt;步骤也是一样，先点击更改的加号来暂存所有更改，再输入提交信息，并点击提交按钮，提交完成后提交两字会变为同步，点击同步按钮即可完成推送。&lt;/p&gt;
&lt;p&gt;如果你想要提交信息变得规范一些，可以安装 &lt;strong&gt;git-commit-plugin&lt;/strong&gt; 插件来寻求帮助。&lt;/p&gt;
&lt;h2 id="参考文献"&gt;参考文献
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://krislinzhao.github.io/docs/create-a-wesite-using-github-pages-and-hugo/" target="_blank" rel="noopener"
&gt;krislin. 如何用 GitHub Pages + Hugo 搭建个人博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="碎碎念"&gt;碎碎念
&lt;/h2&gt;&lt;p&gt;文章中的部分内容并没有详细阐述，这部分内容将拆分到其他文章中，可以点击文章顶部的分类和底部的标签来查看相关文章哦。&lt;/p&gt;</description></item></channel></rss>